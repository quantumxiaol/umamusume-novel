# 多语言支持文档

## 概述

前端应用现已支持四种语言：
- **SC** - 简体中文（Simplified Chinese）
- **TC** - 繁體中文（Traditional Chinese）
- **EN** - 英语（English）
- **JP** - 日本語（Japanese）

## 功能特性

### 1. 语言切换器

- 位置：页面右上角（标题旁边）
- 显示：🌐 图标 + 当前语言代码（SC/TC/EN/JP）
- 操作：点击展开语言选项，选择即可切换

### 2. 自动保存

- 用户选择的语言会自动保存到浏览器的 localStorage
- 下次访问时自动加载上次选择的语言
- 默认语言：简体中文（SC）

### 3. 实时切换

- 无需刷新页面，所有界面文本立即更新
- 包括：
  - 页面标题
  - 输入提示
  - 按钮文字
  - 输出区域标签
  - 状态提示信息

## 文件结构

```
frontend/src/
├── i18n/
│   ├── index.js           # i18n 配置入口
│   └── locales/           # 翻译文件目录
│       ├── sc.js          # 简体中文
│       ├── tc.js          # 繁體中文
│       ├── en.js          # 英语
│       └── jp.js          # 日本語
├── components/
│   └── LanguageSelector.vue  # 语言选择器组件
└── App.vue                # 主应用（已集成 i18n）
```

## 翻译键值对结构

每个语言文件都包含以下结构：

```javascript
export default {
  app: {
    title: '应用标题'
  },
  input: {
    label: '输入框标签',
    placeholder: '占位符文本',
    streamMode: '流式模式说明'
  },
  buttons: {
    generate: '生成按钮',
    generating: '生成中状态',
    cancel: '取消按钮',
    clear: '清除按钮'
  },
  output: {
    ragResult: 'RAG结果标签',
    webResult: 'Web结果标签',
    novel: '小说标签',
    characterImage: '图片标签',
    characters: '字符计数单位'
  },
  status: {
    error: '错误提示',
    streaming: '流式生成状态',
    generating: '生成中状态'
  },
  language: {
    select: '选择语言提示',
    sc: '简体中文显示名',
    tc: '繁體中文显示名',
    en: '英语显示名',
    jp: '日语显示名'
  }
};
```

## 使用方法

### 在组件中使用翻译

```vue
<script setup>
import { useI18n } from 'vue-i18n';

const { t, locale } = useI18n();

// t('key') - 获取翻译文本
// locale.value - 获取当前语言代码
// locale.value = 'en' - 切换语言
</script>

<template>
  <div>
    <h1>{{ t('app.title') }}</h1>
    <p>当前语言: {{ locale }}</p>
  </div>
</template>
```

### 添加新的翻译键

1. 在所有语言文件中添加相同的键：

```javascript
// sc.js
export default {
  // ... 现有内容
  newSection: {
    newKey: '新的中文文本'
  }
};

// tc.js, en.js, jp.js 同样添加
```

2. 在组件中使用：

```vue
<template>
  <div>{{ t('newSection.newKey') }}</div>
</template>
```

## 语言代码说明

| 代码 | 语言 | 备注 |
|------|------|------|
| `sc` | 简体中文 | Simplified Chinese |
| `tc` | 繁體中文 | Traditional Chinese |
| `en` | 英语 | English |
| `jp` | 日本語 | Japanese (日语) |

**注意**：使用 SC/TC/EN/JP 而非地区旗帜标识，更加简洁直观。

## 设计说明

### 语言选择器设计

- **位置**：右上角，与标题同行
- **样式**：卡片式按钮，带下拉菜单
- **图标**：🌐 地球图标
- **交互**：
  - 点击展开下拉菜单
  - 悬停高亮效果
  - 当前语言带 ✓ 标记
  - 点击外部自动关闭

### 响应式设计

- **桌面端**：标题与选择器横向排列
- **移动端**：纵向排列，选择器全宽显示
- **平板**：自适应布局

## 维护指南

### 添加新语言

1. 创建新的语言文件：`src/i18n/locales/xx.js`
2. 复制现有语言文件的结构
3. 翻译所有文本
4. 在 `src/i18n/index.js` 中导入并注册：

```javascript
import xx from './locales/xx.js';

const i18n = createI18n({
  // ...
  messages: {
    // ...
    'xx': xx
  }
});
```

5. 在 `LanguageSelector.vue` 中添加选项：

```javascript
const languages = [
  // ...
  { code: 'xx', label: 'XX', name: 'language.xx' }
];
```

### 更新翻译

1. 找到对应语言的文件
2. 修改或添加键值对
3. 确保所有语言文件保持相同的键结构
4. 测试界面显示是否正确

## 测试清单

- [ ] 所有语言都能正常切换
- [ ] 切换后所有文本都正确显示
- [ ] 页面刷新后语言设置保持
- [ ] 移动端布局正常显示
- [ ] 下拉菜单交互流畅
- [ ] 无控制台错误

## 已知问题

目前无已知问题。

## 未来计划

- [ ] 添加更多语言支持（韩语、西班牙语等）
- [ ] 支持动态语言包加载（减小初始包体积）
- [ ] 添加翻译质量检查工具
- [ ] 支持用户自定义翻译

---

更新日期：2025-11-05

