# 前端 (Frontend)


## Environment

使用pnpm管理环境
```bash
# 安装pnpm(如果尚未安装)
npm install -g pnpm
pnpm --version

# 安装项目依赖
cd frontend
pnpm install

cat .env.template > .env

# 启动开发服务器
pnpm run dev

# 构建生产版本
pnpm run build
```

## Uasge
```bash

# 后端
python main.py server-only

# 前端
cd frontend
pnpm run dev

```

浏览器中打开默认地址`http://localhost:5173/`即可访问前端界面。

在文本输入框中输入你的创作指令，例如："请写一篇关于特别周努力训练，最终在比赛中获胜的故事，要体现她的坚持不懈。"

### 功能特性

#### 1. 流式模式
- 勾选"流式模式"复选框可启用实时流式生成
- 流式模式下可以实时看到生成进度
- 支持取消正在进行的生成

#### 2. RAG 和 Web 搜索结果展示
- 流式模式下会显示 RAG 搜索结果（本地知识库）
- 会显示 Web 搜索结果（在线搜索）
- 点击标题可以展开/折叠详细结果
- 显示结果字符数统计

#### 3. 实时状态提示
- 显示当前处理阶段（RAG 搜索、Web 搜索、小说生成）
- 实时显示生成进度

#### 4. 多语言支持 🌐
- **四种语言**: 简体中文（SC）、繁體中文（TC）、英语（EN）、日本語（JP）
- **实时切换**: 无需刷新页面，所有文本立即更新
- **自动保存**: 语言选择保存到本地，下次访问自动加载
- **语言选择器**: 
  - 位置：页面右上角（标题旁边）
  - 样式：简洁的代码标识（SC/TC/EN/JP）
  - 交互：下拉菜单选择，带当前语言标记
- 详细文档：`frontend/docs/I18N.md`

#### 5. 界面优化 ✨
- **响应式布局**: 自适应不同浏览器窗口大小（最大宽度 1400px）
- **更大的文本区域**: 
  - 输入框增大到 6 行，最小高度 120px
  - 输出文本框最大高度 70vh，充分利用屏幕空间
  - 搜索结果框最大高度 60vh
- **背景图片支持**: 
  - 支持自定义背景图片（虚化效果）
  - 半透明遮罩层保证内容清晰可读
  - 背景固定，内容滚动
- **美化样式**:
  - 卡片式设计，带阴影和圆角
  - 按钮悬停动画效果
  - 优化的颜色搭配和间距
  - 美化的滚动条样式

#### 6. 添加背景图片（可选）

将您喜欢的背景图片（推荐赛马娘相关）放入 `frontend/public/` 目录，命名为 `background.jpg` 或 `background.png`，刷新页面即可生效。

**图片建议**: 1920x1080 或更高分辨率，大小不超过 2MB

点击"生成小说"按钮，生成故事。


## 项目结构

        frontend/
        |- public/                    # 静态资源文件
        |   |- favicon.ico            # 网站图标
        |
        |- src/                       # 前端源代码根目录
        |   |- assets/                # 组件内使用的静态资源 (如图片、样式)
        |   |
        |   |- services/              # 封装与后端 API 交互的逻辑
        |   |   |- api.js             # API 请求函数
        |   |
        |   |- stores/                # Pinia 状态管理 stores
        |   |   |- novelStore.js      # 管理小说生成相关状态
        |   |
        |   |
        |   |- App.vue                # 根 Vue 组件
        |   |- main.js                # Vue 应用入口文件
        |
        |- index.html                 # 主页面 HTML 模板
        |- .env                       # 环境变量配置文件 
        |- .env.example               # 环境变量配置示例文件
        |- vite.config.js             # Vite 构建工具配置文件
        |- package.json               # 项目配置、依赖和脚本定义
        |- pnpm-lock.yaml             # pnpm 生成的依赖锁定文件
        |- README.md                  # 本前端子项目的说明文档